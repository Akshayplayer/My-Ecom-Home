
<header class="header">
  <div class="container">
    <div class="header-content">
      <div class="logo-section">
        <a href="#" class="logo">NAVKAR BESAN</a>
        <div class="delivery-info">
          <!-- <span class="delivery-time">⚡ 10 mins</span> -->
          <div class="location" (click)="showLocationModal = true">
            <span class="location-text">
              <span *ngIf="!location">📍 Select your location</span>
              <span *ngIf="location">📍 {{ getLocationDisplayText() }}</span>
            </span>
            <small *ngIf="!location">Click to set delivery location</small>
            <small *ngIf="location">Current location set</small>
          </div>
        </div>
      </div>
      
      <div class="search-section">
        <div class="search-bar">
          <input type="text" placeholder="Search for groceries, medicines, electronics..." class="search-input">
          <button class="search-btn">🔍</button>
        </div>
      </div>
      
      <div class="header-actions">
        <button class="contact-btn" (click)="showContactModal = true">📞 Order via Call</button>
        <a href="#" class="cart-icon">
          🛒
          <span class="cart-count">{{ cartCount }}</span>
        </a>
      </div>
    </div>
  </div>
</header>

<!-- Hero Banner -->
<section class="hero-banner">
  <div class="container">
    <div class="banner-content">
      <h1>Groceries & Essentials 
        <!-- in <span class="highlight">10 minutes</span>  -->
      </h1>
      <p>Fresh vegetables, fruits, medicines, electronics & more delivered instantly</p>
      <div class="hero-features">
        <!-- <div class="feature">⚡ 10-min delivery</div> -->
        <!-- <div class="feature">🆓 Free delivery</div> -->
        <div class="feature">💯 Best prices</div>
      </div>
    </div>
    <div class="hero-image">
      <img src="https://images.pexels.com/photos/4199098/pexels-photo-4199098.jpeg?auto=compress&cs=tinysrgb&w=600" alt="Fresh groceries" class="hero-img">
    </div>
  </div>
</section>

<!-- Categories -->
<section class="categories-section">
  <div class="container">
    <h2 class="section-title">Shop by Category</h2>
    <div class="categories-scroll">
      <div class="category-item" *ngFor="let category of categories" (click)="selectCategory(category)">
        <div class="category-icon">
          <img [src]="category.image" [alt]="category.name" class="category-image">
        </div>
        <span class="category-name">{{ category.name }}</span>
        <small class="category-time">{{ category.deliveryTime }}</small>
      </div>
    </div>
  </div>
</section>

<!-- Featured Products -->
<section class="products-section">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Popular Items</h2>
      <button class="view-all-btn">View All →</button>
    </div>
    
    <div class="products-grid">
      <div class="product-card" *ngFor="let product of featuredProducts">
        <div class="product-image-container">
          <img [src]="product.image" [alt]="product.name" class="product-image">
          <div class="product-badge" *ngIf="product.badge">{{ product.badge }}</div>
          <div class="delivery-time-badge">{{ product.deliveryTime }}</div>
        </div>
        
        <div class="product-info">
          <h3 class="product-name">{{ product.name }}</h3>
          <p class="product-description">{{ product.description }}</p>
          <div class="product-pricing">
            <span class="current-price">₹{{ product.price }}</span>
            <span class="original-price" *ngIf="product.originalPrice">₹{{ product.originalPrice }}</span>
            <span class="discount" *ngIf="product.discount">{{ product.discount }}% OFF</span>
          </div>
          
          <div class="product-actions">
            <button class="add-btn" (click)="addToCart(product)">ADD</button>
            <button class="quick-order-btn" (click)="quickOrder(product)">📞 Quick Order</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- FMCG Section -->
<section class="fmcg-section">
  <div class="container">
    <h2 class="section-title">FMCG Essentials</h2>
    <div class="fmcg-grid">
      <div class="fmcg-card" *ngFor="let item of fmcgItems">
        <div class="fmcg-image">
          <img [src]="item.image" [alt]="item.name" class="fmcg-img">
          <div class="stock-indicator" [class.in-stock]="item.inStock" [class.low-stock]="!item.inStock">
            {{ item.inStock ? 'In Stock' : 'Low Stock' }}
          </div>
        </div>
        <div class="fmcg-info">
          <h4>{{ item.name }}</h4>
          <p class="fmcg-brand">{{ item.brand }}</p>
          <div class="fmcg-price">₹{{ item.price }}</div>
          <button class="fmcg-add-btn" (click)="addToCart(item)">Add to Cart</button>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Contact Modal -->
<div class="modal-overlay" *ngIf="showContactModal" (click)="showContactModal = false">
  <div class="contact-modal" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3>Order via Phone</h3>
      <button class="close-btn" (click)="showContactModal = false">×</button>
    </div>
    <div class="modal-content">
      <div class="contact-info">
        <div class="contact-item">
          <span class="contact-icon">📞</span>
          <div>
            <strong>Call us at:</strong>
            <p>+91 98765 43210</p>
            <small>Available 24/7</small>
          </div>
        </div>
        <div class="contact-item">
          <span class="contact-icon">💬</span>
          <div>
            <strong>WhatsApp:</strong>
            <p>+91 98765 43210</p>
            <small>Quick responses</small>
          </div>
        </div>
        <div class="contact-item">
          <span class="contact-icon">📧</span>
          <div>
            <strong>Email:</strong>
            <p>orders&#64;quickmart.com</p>
            <small>For bulk orders</small>
          </div>
        </div>
      </div>
      <div class="quick-order-form">
        <h4>Quick Order Form</h4>
        <input type="text" placeholder="Your Name" class="form-input">
        <input type="tel" placeholder="Phone Number" class="form-input">
        <textarea placeholder="List your items here..." class="form-textarea"></textarea>
        <button class="submit-order-btn" (click)="submitQuickOrder()">Submit Order</button>
      </div>
    </div>
  </div>
</div>

<!-- Location Modal -->
<div class="modal-overlay" *ngIf="showLocationModal" (click)="showLocationModal = false">
  <div class="location-modal" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3>📍 Set Delivery Location</h3>
      <button class="close-btn" (click)="showLocationModal = false">×</button>
    </div>
    <div class="modal-content">
      <div class="location-options">
        <div class="location-option" (click)="requestLocation()">
          <div class="option-icon">📍</div>
          <div class="option-content">
            <h4>Use Current Location</h4>
            <p>Allow us to access your current location for accurate delivery</p>
            <div *ngIf="isLoading" class="loading-indicator">
              <span>Getting your location...</span>
            </div>
          </div>
        </div>
        
        <div class="location-option">
          <div class="option-icon">🔍</div>
          <div class="option-content">
            <h4>Search Address</h4>
            <p>Enter your delivery address manually</p>
            <input type="text" placeholder="Enter your address..." class="address-input">
            <button class="set-address-btn">Set Address</button>
          </div>
        </div>
      </div>
      
      <div *ngIf="location" class="current-location-info">
        <h4>✅ Current Location Set</h4>
        <p><strong>Coordinates:</strong> {{ location.coords.latitude | number:'1.4-4' }}, {{ location.coords.longitude | number:'1.4-4' }}</p>
        <p><strong>Accuracy:</strong> {{ location.coords.accuracy | number:'1.0-0' }} meters</p>
        <button class="confirm-location-btn" (click)="confirmLocation()">Confirm This Location</button>
      </div>
      
      <div *ngIf="errorMessage" class="location-error">
        <h4>❌ Location Error</h4>
        <p>{{ errorMessage }}</p>
        <button class="retry-btn" (click)="requestLocation()">Try Again</button>
      </div>
    </div>
  </div>
</div>

<!-- Footer -->
<footer class="footer">
  <div class="container">
    <div class="footer-content">
      <div class="footer-section">
        <h3>Navkar Besan</h3>
        <p>Your Online BESAN Store</p>
        <div class="app-links">
          <a href="#" class="app-link">📱 Download App</a>
        </div>
      </div>
      
      <div class="footer-section">
        <h4>Categories</h4>
        <ul>
          <li><a href="#">Vegetables & Fruits</a></li>
          <li><a href="#">Dairy & Bakery</a></li>
          <li><a href="#">Medicines</a></li>
          <li><a href="#">Electronics</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h4>Contact & Support</h4>
        <ul>
          <li>📞 +91 9521232972</li>
          <li>📧 support&#64;navkarbesan.com</li>
          <!-- <li>🕒 24/7 Available</li> -->
          <!-- <li>📍 Serving 50+ cities</li> -->
        </ul>
      </div>
      
      <div class="footer-section">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="#">About Us</a></li>
          <li><a href="#">Careers</a></li>
          <li><a href="#">Partner with Us</a></li>
          <li><a href="#">Privacy Policy</a></li>
        </ul>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>&copy; {{ currentYear }} Navkar Besan. All rights reserved.</p>
      <div class="payment-methods">
        <span>💳 All payment methods accepted</span>
      </div>
    </div>
  </div>
</footer>